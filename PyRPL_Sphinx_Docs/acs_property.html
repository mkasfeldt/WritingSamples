

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>acs_property module &mdash; PyRPL 0.0.1 documentation</title>
    
    <link rel="stylesheet" href="_static/agogo.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '',
        VERSION:     '0.0.1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="top" title="PyRPL 0.0.1 documentation" href="index.html" />
    <link rel="up" title="Foundation Modules" href="code.html" />
    <link rel="next" title="acs_taxes module" href="acs_taxes.html" />
    <link rel="prev" title="Foundation Modules" href="code.html" /> 
  </head>
  <body>
    <div class="header-wrapper">
      <div class="header">
        <div class="headertitle"><a
          href="index.html">PyRPL 0.0.1 documentation</a></div>
        <div class="rel">
          <a href="code.html" title="Foundation Modules"
             accesskey="P">previous</a> |
          <a href="acs_taxes.html" title="acs_taxes module"
             accesskey="N">next</a> |
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a>
        </div>
       </div>
    </div>

    <div class="content-wrapper">
      <div class="content">
        <div class="document">
            
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="acs-property-module">
<h1>acs_property module<a class="headerlink" href="#acs-property-module" title="Permalink to this headline">¶</a></h1>
<div class="section" id="purpose">
<h2>Purpose<a class="headerlink" href="#purpose" title="Permalink to this headline">¶</a></h2>
<p>This sub-module contains all the functions to create and update the <i>property.sqlite</i> database from the SQL ACS database. It connects via ODBC string that is created in the Property class.
<p>The SQL statements that are used by the module, are contained in the text files in the SQL folder. Using text files to contain the SQL statemnes has been doneb to keep the code in the modules clean, and allow human readable SQL statements to be maintained and easily modified.</p>
<p>This sub-module also imports functions from the utilities sub-module to clean data from the ACS system and format it as needed. The main method that is called to create data is the <i>createRollYear</i> method. All other required methods are called to create and update the <i>property.sqlite</i> database.</p>
</div>
<div class="section" id="usage">
<h2>Usage<a class="headerlink" href="#usage" title="Permalink to this headline">¶</a></h2>
<p>Create all roll years to 2012:</p>
<div class="highlight-python"><pre>from PyRPL.__PyRPL import acs_property
z = acs_property.Property()
for year in range(2010,2012)
        z.createRollYear(year)</pre>
</div>
<p><strong>OR</strong></p>
<p>Use the <cite>db.createDB()</cite> to create all 2003 to present for taxes and property.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Note:</th><td class="field-body"> There is no update function for a property roll year.  Use <i>createRollYear</i>(year) to re-create the roll year with the most recent data.</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="module-__PyRPL.acs_property">
<span id="methods"></span><h2>Methods<a class="headerlink" href="#module-__PyRPL.acs_property" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="__PyRPL.acs_property.Property">
<em class="property">class </em><tt class="descclassname">__PyRPL.acs_property.</tt><tt class="descname">Property</tt><big>(</big><em>path=None</em>, <em>dbname='property.sqlite'</em><big>)</big><a class="reference internal" href="_modules/__PyRPL/acs_property.html#Property"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#__PyRPL.acs_property.Property" title="Permalink to this definition">¶</a></dt>
<dd><p>The Base property class that will pull all basic property information from the ACS database.</p>
<dl class="method">
<dt id="__PyRPL.acs_property.Property.createRollYear">
<tt class="descname">createRollYear</tt><big>(</big><em>*args</em>, <em>**kwds</em><big>)</big><a class="reference internal" href="_modules/__PyRPL/acs_property.html#Property.createRollYear"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#__PyRPL.acs_property.Property.createRollYear" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates the property data for a rollyear takes a four digit year for theroll year you wish to create.  if <i>year</i> is blank it defaults to the
current year.</p>
</dd></dl>

<dl class="method">
<dt id="__PyRPL.acs_property.Property.getAddress">
<tt class="descname">getAddress</tt><big>(</big><em>rollyear=None</em><big>)</big><a class="reference internal" href="_modules/__PyRPL/acs_property.html#Property.getAddress"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#__PyRPL.acs_property.Property.getAddress" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets the address data for all properties in a four digit roll year from ACS. Returns an sqlite3 tuple</p>
</dd></dl>

<dl class="method">
<dt id="__PyRPL.acs_property.Property.getColumns">
<tt class="descname">getColumns</tt><big>(</big><em>table=None</em><big>)</big><a class="reference internal" href="_modules/__PyRPL/acs_property.html#Property.getColumns"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#__PyRPL.acs_property.Property.getColumns" title="Permalink to this definition">¶</a></dt>
<dd><p>Pulls data table information from sqlite databases.</p>
</dd></dl>

<dl class="method">
<dt id="__PyRPL.acs_property.Property.getComments">
<tt class="descname">getComments</tt><big>(</big><em>*args</em>, <em>**kwds</em><big>)</big><a class="reference internal" href="_modules/__PyRPL/acs_property.html#Property.getComments"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#__PyRPL.acs_property.Property.getComments" title="Permalink to this definition">¶</a></dt>
<dd><p>get the comments data for all properties in a four digit roll year
from ACS. Returns an sqlite3 tuple.</p>
</dd></dl>

<dl class="method">
<dt id="__PyRPL.acs_property.Property.getDocument">
<tt class="descname">getDocument</tt><big>(</big><em>*args</em>, <em>**kwds</em><big>)</big><a class="reference internal" href="_modules/__PyRPL/acs_property.html#Property.getDocument"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#__PyRPL.acs_property.Property.getDocument" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets the document data for all properties in a four digit roll year
from ACS. Return an sqlite3 tuple.</p>
</dd></dl>

<dl class="method">
<dt id="__PyRPL.acs_property.Property.getLandClass">
<tt class="descname">getLandClass</tt><big>(</big><em>rollyear=None</em><big>)</big><a class="reference internal" href="_modules/__PyRPL/acs_property.html#Property.getLandClass"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#__PyRPL.acs_property.Property.getLandClass" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets the land class data for all properties in a four digit roll year
from ACS. Returns an sqlite3 tuple.</p>
</dd></dl>

<dl class="method">
<dt id="__PyRPL.acs_property.Property.getLotteryCredit">
<tt class="descname">getLotteryCredit</tt><big>(</big><em>*args</em>, <em>**kwds</em><big>)</big><a class="reference internal" href="_modules/__PyRPL/acs_property.html#Property.getLotteryCredit"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#__PyRPL.acs_property.Property.getLotteryCredit" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets the lotery credit for all properties in a four digit roll year
from ACS. Returns an sqlite3 tuple.</p>
</dd></dl>

<dl class="method">
<dt id="__PyRPL.acs_property.Property.getName">
<tt class="descname">getName</tt><big>(</big><em>*args</em>, <em>**kwds</em><big>)</big><a class="reference internal" href="_modules/__PyRPL/acs_property.html#Property.getName"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#__PyRPL.acs_property.Property.getName" title="Permalink to this definition">¶</a></dt>
<dd><p>Updates the name data for each property in the data set for a four digit
roll year in the <i>NewProperty</i> table. Returns the count of the records updated.</p>
</dd></dl>

<dl class="method">
<dt id="__PyRPL.acs_property.Property.getParcel">
<tt class="descname">getParcel</tt><big>(</big><em>*args</em>, <em>**kwds</em><big>)</big><a class="reference internal" href="_modules/__PyRPL/acs_property.html#Property.getParcel"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#__PyRPL.acs_property.Property.getParcel" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets the acres and legal data for all properties in a four digit roll year
from ACS. Returns an sqlite3 tuple.</p>
</dd></dl>

<dl class="method">
<dt id="__PyRPL.acs_property.Property.getProperty">
<tt class="descname">getProperty</tt><big>(</big><em>*args</em>, <em>**kwds</em><big>)</big><a class="reference internal" href="_modules/__PyRPL/acs_property.html#Property.getProperty"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#__PyRPL.acs_property.Property.getProperty" title="Permalink to this definition">¶</a></dt>
<dd><p><i>rollyear</i> is the integer of the current rollyear.  It is used to find the
range of effective dates for a roll year.  <i>curyear</i> is the current
year flag, if set to <b>True</b> (default) it will use a diffent query string
as the current roll year to use the most recent data. Returns
an sqlite3 tuple (each property in tuple format).</p>
</dd></dl>

<dl class="method">
<dt id="__PyRPL.acs_property.Property.getZoning">
<tt class="descname">getZoning</tt><big>(</big><em>*args</em>, <em>**kwds</em><big>)</big><a class="reference internal" href="_modules/__PyRPL/acs_property.html#Property.getZoning"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#__PyRPL.acs_property.Property.getZoning" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets the zoning data for all properties in a four digit roll year
from ACS. Return an sqlite3 tuple.</p>
</dd></dl>

<dl class="method">
<dt id="__PyRPL.acs_property.Property.getsetLatLong">
<tt class="descname">getsetLatLong</tt><big>(</big><big>)</big><a class="reference internal" href="_modules/__PyRPL/acs_property.html#Property.getsetLatLong"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#__PyRPL.acs_property.Property.getsetLatLong" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets the latitude and longitude from a parcel's PIN from the GIS spreadsheet and sets it for all
rollyears for a parcel's PIN in <i>newProperty</i>. Returns a dictionary of properties
by PIN number with latitude and longitude values.</p>
</dd></dl>

<dl class="method">
<dt id="__PyRPL.acs_property.Property.getsetTaxes">
<tt class="descname">getsetTaxes</tt><big>(</big><em>*args</em>, <em>**kwds</em><big>)</big><a class="reference internal" href="_modules/__PyRPL/acs_property.html#Property.getsetTaxes"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#__PyRPL.acs_property.Property.getsetTaxes" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets the tax data for all properties in a four digit roll year
from ACS. It also gets the current year and previous year taxes for each
property. Return an sqlite3 tuple.</p>
</dd></dl>

<dl class="method">
<dt id="__PyRPL.acs_property.Property.getsetUTA">
<tt class="descname">getsetUTA</tt><big>(</big><em>*args</em>, <em>**kwds</em><big>)</big><a class="reference internal" href="_modules/__PyRPL/acs_property.html#Property.getsetUTA"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#__PyRPL.acs_property.Property.getsetUTA" title="Permalink to this definition">¶</a></dt>
<dd><p>Get UTA data in a fout digit roll year from ACS, then inserts all
records into the <i>newUTA</i> table by municiaplity and rollyear.
Returns the total number of recorded added to the table.</p>
</dd></dl>

<dl class="method">
<dt id="__PyRPL.acs_property.Property.getsetqq">
<tt class="descname">getsetqq</tt><big>(</big><big>)</big><a class="reference internal" href="_modules/__PyRPL/acs_property.html#Property.getsetqq"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#__PyRPL.acs_property.Property.getsetqq" title="Permalink to this definition">¶</a></dt>
<dd><p>get the longitude and latitude from the __kml.kml file for centroid of the quarter-quarter.</p>
</dd></dl>

<dl class="method">
<dt id="__PyRPL.acs_property.Property.setAddress">
<tt class="descname">setAddress</tt><big>(</big><em>*args</em>, <em>**kwds</em><big>)</big><a class="reference internal" href="_modules/__PyRPL/acs_property.html#Property.setAddress"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#__PyRPL.acs_property.Property.setAddress" title="Permalink to this definition">¶</a></dt>
<dd><p>Updates the address data (r) in the <i>newAddress</i> table for a four digit roll year.
Returns the count of the number of updated records.</p>
</dd></dl>

<dl class="method">
<dt id="__PyRPL.acs_property.Property.setComments">
<tt class="descname">setComments</tt><big>(</big><em>*args</em>, <em>**kwds</em><big>)</big><a class="reference internal" href="_modules/__PyRPL/acs_property.html#Property.setComments"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#__PyRPL.acs_property.Property.setComments" title="Permalink to this definition">¶</a></dt>
<dd><p>Updates the comments data (r) in the newComment table for a four digit roll year.
Returns the count of the records updated.</p>
</dd></dl>

<dl class="method">
<dt id="__PyRPL.acs_property.Property.setDocument">
<tt class="descname">setDocument</tt><big>(</big><em>*args</em>, <em>**kwds</em><big>)</big><a class="reference internal" href="_modules/__PyRPL/acs_property.html#Property.setDocument"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#__PyRPL.acs_property.Property.setDocument" title="Permalink to this definition">¶</a></dt>
<dd><p>Updates the document data for each property in the data set
for a four digit roll year in the <i>NewProperty</i> table. Return the count of
the records updated.</p>
</dd></dl>

<dl class="method">
<dt id="__PyRPL.acs_property.Property.setLandClass">
<tt class="descname">setLandClass</tt><big>(</big><em>*args</em>, <em>**kwds</em><big>)</big><a class="reference internal" href="_modules/__PyRPL/acs_property.html#Property.setLandClass"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#__PyRPL.acs_property.Property.setLandClass" title="Permalink to this definition">¶</a></dt>
<dd><p>Updates the land class data for each property in the data set
for a four digit roll year in the <i>newLandClass</i> table. Returns the count of
the records updated.</p>
</dd></dl>

<dl class="method">
<dt id="__PyRPL.acs_property.Property.setLotteryCredit">
<tt class="descname">setLotteryCredit</tt><big>(</big><em>*args</em>, <em>**kwds</em><big>)</big><a class="reference internal" href="_modules/__PyRPL/acs_property.html#Property.setLotteryCredit"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#__PyRPL.acs_property.Property.setLotteryCredit" title="Permalink to this definition">¶</a></dt>
<dd><p>Updates the lottery credit for each property in the data set
for a four digit roll year in the <i>NewProperty</i> table. Returns the count of
the records updated.</p>
</dd></dl>

<dl class="method">
<dt id="__PyRPL.acs_property.Property.setName">
<tt class="descname">setName</tt><big>(</big><em>*args</em>, <em>**kwds</em><big>)</big><a class="reference internal" href="_modules/__PyRPL/acs_property.html#Property.setName"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#__PyRPL.acs_property.Property.setName" title="Permalink to this definition">¶</a></dt>
<dd><p>Updates the name data (r) in the <i>newName</i> table for a four digit roll year,
this data will also include the mailing address for the name.
Returns the count of the records updated.</p>
</dd></dl>

<dl class="method">
<dt id="__PyRPL.acs_property.Property.setParcel">
<tt class="descname">setParcel</tt><big>(</big><em>*args</em>, <em>**kwds</em><big>)</big><a class="reference internal" href="_modules/__PyRPL/acs_property.html#Property.setParcel"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#__PyRPL.acs_property.Property.setParcel" title="Permalink to this definition">¶</a></dt>
<dd><p>Updates the parcel data (legal and acres) for each property in the data set
for a four digit roll year in the <i>NewProperty</i> table. Returns the count of
the records updated.</p>
</dd></dl>

<dl class="method">
<dt id="__PyRPL.acs_property.Property.setProperty">
<tt class="descname">setProperty</tt><big>(</big><em>*args</em>, <em>**kwds</em><big>)</big><a class="reference internal" href="_modules/__PyRPL/acs_property.html#Property.setProperty"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#__PyRPL.acs_property.Property.setProperty" title="Permalink to this definition">¶</a></dt>
<dd><p>Update basic property data (r) for the portal. <i>r</i> is a tuple of records in tuples.
<i>rollyear</i> is integer of the requested year. All data will be inserted into the <i>newProperty</i>
table for the four digit rollyear. returns the count of the records
updated.</p>
</dd></dl>

<dl class="method">
<dt id="__PyRPL.acs_property.Property.setZoning">
<tt class="descname">setZoning</tt><big>(</big><em>*args</em>, <em>**kwds</em><big>)</big><a class="reference internal" href="_modules/__PyRPL/acs_property.html#Property.setZoning"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#__PyRPL.acs_property.Property.setZoning" title="Permalink to this definition">¶</a></dt>
<dd><p>Update the zoning data (r) in the newZoning table for a four digit roll year.
Returns the count of the records updated.</p>
</dd></dl>

<dl class="method">
<dt id="__PyRPL.acs_property.Property.updateSubdivision">
<tt class="descname">updateSubdivision</tt><big>(</big><em>*args</em>, <em>**kwds</em><big>)</big><a class="reference internal" href="_modules/__PyRPL/acs_property.html#Property.updateSubdivision"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#__PyRPL.acs_property.Property.updateSubdivision" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets subdivision data for all properties in a fout digit roll year from
ACS. It then updates all properties with the data for the roll year</p>
</dd></dl>

</dd></dl>

</div>
</div>


          </div>
        </div>
      </div>
        </div>
        <div class="sidebar">
          <h3>Table Of Contents</h3>
          <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="Base Modules.html">User Modules</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="code.html">Foundation Modules</a><ul class="current">
<li class="toctree-l2 current"><a class="current reference internal" href="">acs_property module</a></li>
<li class="toctree-l2"><a class="reference internal" href="acs_taxes.html">acs_taxes module</a></li>
<li class="toctree-l2"><a class="reference internal" href="utilities.html">utilities module</a></li>
</ul>
</li>
</ul>

          <h3 style="margin-top: 1.5em;">Search</h3>
          <form class="search" action="search.html" method="get">
            <input type="text" name="q" />
            <input type="submit" value="Go" />
            <input type="hidden" name="check_keywords" value="yes" />
            <input type="hidden" name="area" value="default" />
          </form>
          <p class="searchtip" style="font-size: 90%">
            Enter search terms or a module, class or function name.
          </p>
        </div>
        <div class="clearer"></div>
      </div>
    </div>

    <div class="footer-wrapper">
      <div class="footer">
        <div class="left">
          <a href="code.html" title="Foundation Modules"
             >previous</a> |
          <a href="acs_taxes.html" title="acs_taxes module"
             >next</a> |
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |
          <a href="genindex.html" title="General Index"
             >index</a>
            <br/>
            <a href="_sources/acs_property.txt"
               rel="nofollow">Show Source</a>
        </div>

        <div class="right">
          
    <div class="footer">
        &copy; Copyright 2012, Matt Kasfeldt.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.1.3.
    </div>
        </div>
        <div class="clearer"></div>
      </div>
    </div>

  </body>
</html>